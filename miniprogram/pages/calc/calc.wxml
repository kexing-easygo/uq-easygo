<!--pages/calc/calc.wxml-->
<view class="container">
	
	<view class="header">

		<view class="input_area" style="width: 60%;">
			<view class="semester_box">
				<picker bindchange="bindPickerChange" value="{{index}}" range="{{semester_array}}">
					<view class="semester">
						{{semester_array[index]}}
						<view class="down_arrow"> ▽ </view>
					</view>
				</picker>
			</view>

			<view class="course_box"> 
				<view style="width:254rpx;">
					<input style="padding-left:20rpx;" type="text" class="course" bindinput="bindCourseInput" maxlength="8"/>
				</view>
				<view style="width:104rpx;">
					<button style="font-size: 25rpx; width: 100rpx; text-align: center;line-height: 60rpx;"class="mini-button" type="primary" size="mini" bindtap="searchCourse">搜索</button>
				</view>
			</view>
		</view>

		<view class="circle_area" style="width:40%;display:flex;align-items:center;justify-content:center;margin-top:10rpx;">
			<!-- 动态圆形进度条 -->
			<view class='progress_box'>
				<!-- 两个圆的canvas -->
				<canvas class="progress_bg" canvas-id="canvasProgressbg"></canvas> 
				<canvas class="progress_canvas"   canvas-id="canvasProgress"></canvas> 
				<!-- 文字 -->
				<view class="progress_text">
						<text class='progress_info'>{{totalScore}}</text>
						<view class='line'></view>
						<text class="text">GPA : {{calculatedGPA}}</text>
				</view>   
			</view>
		</view>

		<view class="notice_area" style="width:100%; height: 30rpx;">
			<view class="prompot" wx:if="{{doublePass}}">
				This course is double pass !
			</view>
		</view>

	</view>

	<view class="body">
		<view class="table">
			<!-- table heading -->
			<view class="table-tr">
				<view class="table-th">Assessment</view>
				<view class="table-th">Weight(%)</view>
				<view class="table-th">Score</view>
			</view>
			<!-- assessment blocks -->
			<view class="table-tr" wx:for="{{assessments}}" wx:for-index="index" wx:for-item="item">
				<!-- assessment name -->
				<!-- <view class="table-td">Assignmen1-12sdfsdfsdfsdfsdf</view> -->
				<view class="table-td">{{item.name}}</view>
				<!-- assessment weight -->
				<!-- <view class="table-td">6.25%</view> -->
				<view class="table-td">{{item.weight}}</view>
				<!-- assessment score -->
				<view class="table-td">
					<view class="score"> 
						<input style="width:70rpx;height:20px; border: 1px solid lightgray" type="number" bindinput="bindKeyInput" data-model="score1" id="{{index}}"/>
						<view>/</view>
						<input style="width:70rpx;height:20px; border: 1px solid lightgray" type="number" bindinput="bindKeyInput" data-model="score2" id="{{index}}"/>
					</view>
				</view>
			</view>

		</view>
	</view>

	<view class="bottom">
		
		<view class="scoreStrip">
			<view>Total Score:</view> <view>{{totalScore}}</view>
		</view>

		<view class="scoreStrip">
			<view>Total Dropped:</view> <view>{{totalDropped}}</view>
		</view>

		<view class="scoreStrip">
		<view>Cumulative GPA:</view> <view>{{calculatedGPA}}</view>
		</view>
	</view>

</view>
