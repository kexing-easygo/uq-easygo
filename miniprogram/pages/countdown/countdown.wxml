<!--pages/countdown/countdown.wxml-->
<view class="container">
	<view class="header">
		<view class="header_subject"> {{recentAssignmentName}}
		</view>
		<view class="remain_day"> {{recentAssignmentDate}} </view>
		<view class="days"> Days </view>
		<view class="searchbar"></view>
	</view>
	<view class="page__bd">
		<view class="weui-search-bar {{inputShowed ? 'weui-search-bar_focusing' : ''}}" id="searchBar">
			<form class="weui-search-bar__form">
				<view class="weui-search-bar__box">
					<i class="weui-icon-search"></i>
                    <input type="text" class="weui-search-bar__input" placeholder="搜索" value="{{inputVal}}" focus="{{inputShowed}}" bindinput="inputTyping" />
                    <span class="weui-icon-clear" wx:if="{{inputVal.length > 0}}" bindtap="clearInput"></span>
				</view>
				<label class="weui-search-bar__label" bindtap="showInput">
					<i class="weui-icon-search"></i>
                    <span class="weui-search-bar__text">搜索</span>
				</label>
			</form>
            <view class="weui-search-bar__cancel-btn" bindtap="hideInput">取消</view>
		</view>
		<!--  -->
		<view class="weui-cells searchbar-result" wx:if="{{inputVal.length > 0}}">
			<view class="weui-cell weui-cell_active weui-cell_access" wx:for="{{matchedItems}}">
				<view class="weui-cell__bd weui-cell_primary">
					<view>{{item.name}}</view>
				</view>
			</view>
		</view>
	</view>
	<view class="assignment-list">
		<view class="countdown" wx:for="{{userAssignments}}" wx:for-index="index" wx:key="name">
			<view class="countdown_event" bindtap="bindTap" data-index="{{index}}">
					<slide-delete pid="{{item.id}}" bindaction="handleSlideDelete" wx:key="{{item.id}}">
						<view class="test">
							<view wx:if="{{item}}" class="progress-bar">
								<text class="subject">{{item.name}}</text>
								<view class="progress" style="--percent: {{item.percentage}}; background-color: #e46a70"></view>
							</view>
							<view class="countdown_days">
								{{item.countdown}} Days
							</view>
						</view>
				</slide-delete>
			</view>
		</view>
	</view>
</view>


<view class="menu-switch">
	<view class="add-event">
		<!--切换按钮-->
		<view class="hide{{showView? '' : 'show'}}" bindtap="change">
			<image style="width: 88rpx; height: 88rpx" src="{{add}}" />
		</view>
		<view class="hide{{showView? 'show' : ''}}" bindtap="change">
			<image style="width: 88rpx; height: 88rpx" src="{{add}}" />
		</view>
	</view>
</view>

<view class="hide{{showView?'show':''}}">
	<!--遮罩层  -->
	<view class="shade">
		<!--蒙板内部-->
		<view class="contents">
			<view>
				<text>添加倒计时</text>
				<navigator url="/pages/addCountDown/addCountDown">
					<image style="width: 88rpx; height: 88rpx" src="{{addCountDown}}" />
				</navigator>
			</view>
			<view>
				<text>提醒设置</text>
				<navigator url="/pages/notificationSetting/notificationSetting">
					<image style="width: 88rpx; height: 88rpx" src="{{notificationSetting}}" />
				</navigator>
			</view>
		</view>
	</view>
</view>